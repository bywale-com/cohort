{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/cohort/components/ContactForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { z } from \"zod\";\n\nconst contactSchema = z.object({\n  name: z.string().min(1, \"Name is required\"),\n  email: z.string().email(\"Invalid email address\"),\n  message: z.string().min(1, \"Message is required\"),\n  honeypot: z.string().max(0, \"Bot detected\"), // Honeypot field\n});\n\ntype ContactFormData = z.infer<typeof contactSchema>;\n\nexport default function ContactForm() {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    message: \"\",\n    honeypot: \"\",\n  });\n  const [errors, setErrors] = useState<Partial<Record<keyof ContactFormData, string>>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState<\"idle\" | \"success\" | \"error\">(\"idle\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setErrors({});\n    setIsSubmitting(true);\n    setSubmitStatus(\"idle\");\n\n    try {\n      // Client-side validation\n      contactSchema.parse(formData);\n\n      const response = await fetch(\"/api/contact\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name: formData.name,\n          email: formData.email,\n          message: formData.message,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to send message\");\n      }\n\n      setSubmitStatus(\"success\");\n      setFormData({ name: \"\", email: \"\", message: \"\", honeypot: \"\" });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        const fieldErrors: Partial<Record<keyof ContactFormData, string>> = {};\n        error.errors.forEach((err) => {\n          if (err.path[0]) {\n            fieldErrors[err.path[0] as keyof ContactFormData] = err.message;\n          }\n        });\n        setErrors(fieldErrors);\n      } else {\n        setSubmitStatus(\"error\");\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Honeypot field - hidden from users */}\n      <input\n        type=\"text\"\n        name=\"honeypot\"\n        value={formData.honeypot}\n        onChange={(e) => setFormData({ ...formData, honeypot: e.target.value })}\n        className=\"hidden\"\n        tabIndex={-1}\n        autoComplete=\"off\"\n      />\n\n      <div>\n        <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Name *\n        </label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          value={formData.name}\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n          required\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n        />\n        {errors.name && <p className=\"mt-1 text-sm text-red-600\">{errors.name}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Email *\n        </label>\n        <input\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          value={formData.email}\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n          required\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n        />\n        {errors.email && <p className=\"mt-1 text-sm text-red-600\">{errors.email}</p>}\n      </div>\n\n      <div>\n        <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Message *\n        </label>\n        <textarea\n          id=\"message\"\n          name=\"message\"\n          value={formData.message}\n          onChange={(e) => setFormData({ ...formData, message: e.target.value })}\n          required\n          rows={6}\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n        />\n        {errors.message && <p className=\"mt-1 text-sm text-red-600\">{errors.message}</p>}\n      </div>\n\n      {submitStatus === \"success\" && (\n        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n          <p className=\"text-green-800\">Thank you! Your message has been sent.</p>\n        </div>\n      )}\n\n      {submitStatus === \"error\" && (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-red-800\">\n            Something went wrong. Please try again or contact us directly.\n          </p>\n        </div>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={isSubmitting}\n        className=\"w-full px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n      >\n        {isSubmitting ? \"Sending...\" : \"Send Message\"}\n      </button>\n    </form>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}